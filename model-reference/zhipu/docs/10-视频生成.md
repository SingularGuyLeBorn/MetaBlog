# è§†é¢‘ç”Ÿæˆ (Video Generation)

## 1. åŠŸèƒ½ä»‹ç»

è§†é¢‘ç”Ÿæˆæ˜¯æ™ºè°± AI æä¾›çš„å¼‚æ­¥è§†é¢‘ç”ŸæˆæœåŠ¡ï¼Œæ”¯æŒæ ¹æ®æ–‡æœ¬æè¿°æˆ–é¦–å¸§å›¾ç‰‡ç”Ÿæˆé«˜è´¨é‡è§†é¢‘å†…å®¹ã€‚è¯¥æœåŠ¡é‡‡ç”¨å¼‚æ­¥ä»»åŠ¡æ¨¡å¼ï¼Œç”¨æˆ·æäº¤ç”Ÿæˆä»»åŠ¡åï¼Œé€šè¿‡è½®è¯¢æ–¹å¼è·å–æœ€ç»ˆç»“æœã€‚

**æ ¸å¿ƒèƒ½åŠ›ï¼š**
- **æ–‡ç”Ÿè§†é¢‘**ï¼šæ ¹æ®æ–‡æœ¬æè¿°ç”ŸæˆåŠ¨æ€è§†é¢‘
- **å›¾ç”Ÿè§†é¢‘**ï¼šåŸºäºé¦–å¸§å›¾ç‰‡å»¶ç»­ç”Ÿæˆè§†é¢‘
- **AI éŸ³æ•ˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆä¸ç”»é¢åŒ¹é…çš„å£°éŸ³æ•ˆæœ
- **é«˜æ¸…ç”»è´¨**ï¼šæ”¯æŒ 4K åˆ†è¾¨ç‡è¾“å‡º

**æ”¯æŒçš„æ¨¡å‹ï¼š**

| æ¨¡å‹ | æ¨¡å‹ä»£ç  | ç±»å‹ | è§„æ ¼ | ç‰¹ç‚¹ |
|:---|:---|:---|:---|:---|
| CogVideoX-Flash | cogvideox-flash | è§†é¢‘ç”Ÿæˆ | 4K/10ç§’/60fps | AIéŸ³æ•ˆã€é«˜æ¸…ã€å…è´¹ |

> **æ³¨æ„**ï¼šCogVideoX-Flash æ˜¯ç‹¬ç«‹çš„è§†é¢‘ç”Ÿæˆæ¨¡å‹ï¼Œä¸å±äºå¯¹è¯æ¨¡å‹ï¼Œä¸æ”¯æŒæ€è€ƒæ¨¡å¼å’Œæ€ç»´é“¾ã€‚ä½¿ç”¨ä¸“é—¨çš„ `/videos/generations` ç«¯ç‚¹ã€‚

---

## 2. é€‚ç”¨åœºæ™¯

| åœºæ™¯ | è¯´æ˜ | ç¤ºä¾‹æç¤ºè¯ |
|:---|:---|:---|
| **çŸ­è§†é¢‘åˆ›ä½œ** | å¿«é€Ÿç”Ÿæˆç¤¾äº¤åª’ä½“çŸ­è§†é¢‘å†…å®¹ | "ä¸€åªå¯çˆ±çš„æŸ´çŠ¬åœ¨æ¨±èŠ±æ ‘ä¸‹è¿½é€è´è¶ï¼Œé˜³å…‰é€è¿‡èŠ±ç“£æ´’è½" |
| **å¹¿å‘Šåˆ›æ„** | äº§å“å±•ç¤ºå’Œå“ç‰Œå®£ä¼ è§†é¢‘ | "ä¸€ç“¶é¦™æ°´åœ¨æ°´æ™¶æ¡Œé¢ä¸Šï¼Œå‘¨å›´ç¯ç»•ç€æ¢¦å¹»çš„èŠ±ç“£å’Œå…‰æ™•" |
| **æ•™è‚²åŸ¹è®­** | æ•™å­¦æ¼”ç¤ºå’Œæ¦‚å¿µå¯è§†åŒ– | "DNA åŒèºæ—‹ç»“æ„åœ¨æ˜¾å¾®é•œä¸‹ç¼“ç¼“æ—‹è½¬ï¼Œå±•ç¤ºç”Ÿå‘½ç§‘å­¦çš„å¥¥ç§˜" |
| **æ¸¸æˆåŠ¨ç”»** | æ¸¸æˆåœºæ™¯å’Œè§’è‰²åŠ¨ç”»é¢„è§ˆ | "ç§‘å¹»åŸå¸‚å¤œæ™¯ï¼Œé£è¡Œå™¨ç©¿æ¢­åœ¨é«˜æ¥¼ä¹‹é—´ï¼Œéœ“è™¹ç¯å…‰é—ªçƒ" |
| **è‰ºæœ¯åˆ›ä½œ** | æ•°å­—è‰ºæœ¯å’Œå®éªŒæ€§è§†é¢‘ | "æ°´å¢¨ç”»é£æ ¼çš„å±±æ°´ï¼Œäº‘é›¾ç¼­ç»•ï¼Œé£é¸Ÿæ è¿‡æ¹–é¢" |

---

## 3. è§†é¢‘è§„æ ¼è¯´æ˜

### 3.1 æŠ€æœ¯è§„æ ¼

| è§„æ ¼é¡¹ | å‚æ•°å€¼ | è¯´æ˜ |
|:---|:---|:---|
| **åˆ†è¾¨ç‡** | 4K (3840Ã—2160) | è¶…é«˜æ¸…ç”»è´¨è¾“å‡º |
| **æ—¶é•¿** | 10 ç§’ | å•è§†é¢‘å›ºå®šæ—¶é•¿ |
| **å¸§ç‡** | 60 fps | æµç•…çš„åŠ¨æ€æ•ˆæœ |
| **éŸ³æ•ˆ** | AI è‡ªåŠ¨ç”Ÿæˆ | æ™ºèƒ½åŒ¹é…ç”»é¢æ°›å›´ |
| **æ ¼å¼** | MP4 | é€šç”¨è§†é¢‘æ ¼å¼ |

### 3.2 æ¨¡å‹ä¿¡æ¯

| æ¨¡å‹åç§° | æ¨¡å‹ä»£ç  | ç±»å‹ | æ€è€ƒæ¨¡å¼ | æ€ç»´é“¾ |
|:---|:---|:---|:---:|:---:|
| **CogVideoX-Flash** | `cogvideox-flash` | è§†é¢‘ç”Ÿæˆ | N/A | N/A |

> **è¯´æ˜**ï¼šCogVideoX-Flash æ˜¯ä¸“é—¨çš„è§†é¢‘ç”Ÿæˆæ¨¡å‹ï¼Œä¸å±äºå¯¹è¯æ¨¡å‹ï¼Œä¸æ”¯æŒæ€è€ƒæ¨¡å¼å’Œæ€ç»´é“¾ã€‚

---

## 4. å¼‚æ­¥è°ƒç”¨æµç¨‹è¯¦è§£

è§†é¢‘ç”Ÿæˆé‡‡ç”¨å¼‚æ­¥ä»»åŠ¡æ¨¡å¼ï¼Œå®Œæ•´çš„è°ƒç”¨æµç¨‹å¦‚ä¸‹ï¼š

```mermaid
sequenceDiagram
    participant Client as å®¢æˆ·ç«¯
    participant API as æ™ºè°± API
    participant Queue as ä»»åŠ¡é˜Ÿåˆ—
    participant Storage as å­˜å‚¨æœåŠ¡
    
    Client->>API: 1. POST /videos/generations
    API->>Client: è¿”å› task_id
    API->>Queue: æäº¤ç”Ÿæˆä»»åŠ¡
    
    loop è½®è¯¢æŸ¥è¯¢
        Client->>API: 2. GET /async-result/{task_id}
        API->>Queue: æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
        Queue->>API: è¿”å›çŠ¶æ€
        API->>Client: è¿”å›è¿›åº¦/ç»“æœ
    end
    
    Queue->>Storage: ç”Ÿæˆå®Œæˆï¼Œå­˜å‚¨è§†é¢‘
    Storage->>API: è¿”å›è§†é¢‘ URL
```

### 4.1 æµç¨‹æ­¥éª¤

1. **æäº¤ä»»åŠ¡**ï¼šè°ƒç”¨ `POST /videos/generations` æäº¤ç”Ÿæˆè¯·æ±‚
2. **è·å–ä»»åŠ¡ID**ï¼šAPI è¿”å› `task_id` ç”¨äºåç»­æŸ¥è¯¢
3. **è½®è¯¢æŸ¥è¯¢**ï¼šä½¿ç”¨ `GET /async-result/{task_id}` å®šæœŸæŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
4. **è·å–ç»“æœ**ï¼šä»»åŠ¡å®Œæˆåï¼ŒAPI è¿”å›è§†é¢‘ä¸‹è½½ URL

### 4.2 ä»»åŠ¡çŠ¶æ€

| çŠ¶æ€ | è¯´æ˜ | å¤„ç†æ–¹å¼ |
|:---|:---|:---|
| `PROCESSING` | å¤„ç†ä¸­ | ç»§ç»­è½®è¯¢ |
| `SUCCESS` | æˆåŠŸ | è·å–è§†é¢‘ URL |
| `FAIL` | å¤±è´¥ | æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ |

---

## 5. API è°ƒç”¨æ–¹å¼

### 5.1 æäº¤ç”Ÿæˆä»»åŠ¡

**ç«¯ç‚¹ï¼š** `POST https://open.bigmodel.cn/api/paas/v4/videos/generations`

**è¯·æ±‚å¤´ï¼š**
```http
Content-Type: application/json
Authorization: Bearer {API_KEY}
```

**è¯·æ±‚ä½“ï¼ˆæ–‡ç”Ÿè§†é¢‘ï¼‰ï¼š**
```json
{
  "model": "cogvideox-flash",
  "prompt": "ä¸€åªå¯çˆ±çš„ç†ŠçŒ«åœ¨ç«¹æ—ä¸­åƒç«¹å­",
  "size": "3840x2160"
}
```

**è¯·æ±‚ä½“ï¼ˆå›¾ç”Ÿè§†é¢‘ï¼‰ï¼š**
```json
{
  "model": "cogvideox-flash",
  "prompt": "ç†ŠçŒ«ç¼“ç¼“æŠ¬èµ·å¤´ï¼Œç¯é¡¾å››å‘¨",
  "image_url": "https://example.com/panda.jpg",
  "size": "3840x2160"
}
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "request_id": "req_1234567890",
  "id": "task_xxxxxxxxxx",
  "model": "cogvideox-flash",
  "task_status": "PROCESSING"
}
```

### 5.2 æŸ¥è¯¢ä»»åŠ¡ç»“æœ

**ç«¯ç‚¹ï¼š** `GET https://open.bigmodel.cn/api/paas/v4/async-result/{task_id}`

**è¯·æ±‚å¤´ï¼š**
```http
Authorization: Bearer {API_KEY}
```

**å“åº”ç¤ºä¾‹ï¼ˆå¤„ç†ä¸­ï¼‰ï¼š**
```json
{
  "request_id": "req_1234567890",
  "id": "task_xxxxxxxxxx",
  "task_status": "PROCESSING",
  "model": "cogvideox-flash"
}
```

**å“åº”ç¤ºä¾‹ï¼ˆæˆåŠŸï¼‰ï¼š**
```json
{
  "request_id": "req_1234567890",
  "id": "task_xxxxxxxxxx",
  "task_status": "SUCCESS",
  "model": "cogvideox-flash",
  "video_result": [
    {
      "url": "https://example.com/video.mp4",
      "cover_image_url": "https://example.com/cover.jpg"
    }
  ]
}
```

---

## 6. å‚æ•°è¯´æ˜

### 6.1 æäº¤ä»»åŠ¡å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|:---|:---|:---:|:---|
| `model` | string | âœ“ | æ¨¡å‹ä»£ç ï¼Œå›ºå®šä¸º `cogvideox-flash` |
| `prompt` | string | âœ“ | è§†é¢‘æè¿°æç¤ºè¯ï¼Œå»ºè®® 100-500 å­— |
| `image_url` | string | âœ— | é¦–å¸§å›¾ç‰‡ URLï¼ˆå›¾ç”Ÿè§†é¢‘æ—¶ä½¿ç”¨ï¼‰ |
| `size` | string | âœ— | åˆ†è¾¨ç‡ï¼Œé»˜è®¤ `3840x2160` |

### 6.2 æç¤ºè¯å‚æ•°å»ºè®®

| å‚æ•° | æ¨èå€¼ | è¯´æ˜ |
|:---|:---|:---|
| æç¤ºè¯é•¿åº¦ | 100-500 å­—ç¬¦ | æè¿°è¶Šè¯¦ç»†ï¼Œæ•ˆæœè¶Šå¥½ |
| åœºæ™¯æè¿° | åŒ…å«æ—¶é—´ã€åœ°ç‚¹ã€ä¸»ä½“ | "æ¸…æ™¨çš„æ£®æ—é‡Œï¼Œé˜³å…‰é€è¿‡æ ‘å¶..." |
| åŠ¨ä½œæè¿° | æ˜ç¡®ä¸»ä½“åŠ¨ä½œ | "å°é¸Ÿå±•ç¿…é£ç¿”ï¼Œç¾½æ¯›éšé£é£˜åŠ¨" |
| æ°›å›´æè¿° | å…‰çº¿ã€è‰²å½©ã€æƒ…ç»ª | "æ¸©æš–çš„é‡‘è‰²é˜³å…‰ï¼Œå®é™ç¥¥å’Œçš„æ°›å›´" |

### 6.3 å“åº”å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|:---|:---|:---|
| `request_id` | string | è¯·æ±‚å”¯ä¸€æ ‡è¯† |
| `id` | string | ä»»åŠ¡ IDï¼Œç”¨äºæŸ¥è¯¢ç»“æœ |
| `task_status` | string | ä»»åŠ¡çŠ¶æ€ï¼šPROCESSING/SUCCESS/FAIL |
| `video_result` | array | è§†é¢‘ç»“æœåˆ—è¡¨ï¼ˆæˆåŠŸæ—¶è¿”å›ï¼‰ |
| `url` | string | è§†é¢‘ä¸‹è½½åœ°å€ |
| `cover_image_url` | string | è§†é¢‘å°é¢å›¾ç‰‡åœ°å€ |

---

## 7. æç¤ºè¯ç¼–å†™å»ºè®®

### 7.1 æç¤ºè¯ç»“æ„

æ¨èæŒ‰ç…§ä»¥ä¸‹ç»“æ„ç»„ç»‡æç¤ºè¯ï¼š

```
[åœºæ™¯è®¾å®š] + [ä¸»ä½“æè¿°] + [åŠ¨ä½œç»†èŠ‚] + [è§†è§‰é£æ ¼] + [æ°›å›´/æƒ…ç»ª]
```

### 7.2 ä¼˜ç§€æç¤ºè¯ç¤ºä¾‹

**åŠ¨ç‰©åœºæ™¯ï¼š**
```
ä¸€åªæ©˜è‰²çš„å°çŒ«åœ¨åˆåçš„çª—å°ä¸Šæ…µæ‡’åœ°ä¼¸æ‡’è…°ï¼Œé˜³å…‰é€è¿‡ç™½è‰²çº±å¸˜
æ´’åœ¨å®ƒæŸ”è½¯çš„æ¯›å‘ä¸Šï¼Œå½¢æˆæ¸©æš–çš„å…‰æ™•ã€‚å¾®é£å¹åŠ¨çª—å¸˜ï¼Œå°çŒ«çš„
èƒ¡é¡»è½»è½»é¢¤åŠ¨ï¼Œå®ƒçœ¯èµ·çœ¼ç›ï¼Œäº«å—è¿™å®é™çš„æ—¶å…‰ã€‚
```

**è‡ªç„¶é£æ™¯ï¼š**
```
æ¸…æ™¨çš„è¿·é›¾æ£®æ—ï¼Œé˜³å…‰ç©¿é€å±‚å±‚å å çš„æ ‘å† ï¼Œå½¢æˆé‡‘è‰²çš„å…‰æŸã€‚
åœ°é¢ä¸Šè¦†ç›–ç€åšåšçš„è‹”è—“å’Œé‡èŠ±ï¼Œä¸€åªé¹¿ä»é›¾ä¸­ç¼“ç¼“èµ°å‡ºï¼Œä½å¤´
é¥®æ°´ï¼Œæ°´é¢æ³›èµ·æ¶Ÿæ¼ªï¼Œå€’æ˜ ç€æ¢¦å¹»èˆ¬çš„æ™¨å…‰ã€‚
```

**åŸå¸‚æ™¯è§‚ï¼š**
```
æœªæ¥ä¸»ä¹‰åŸå¸‚å¤œæ™¯ï¼Œæ‘©å¤©å¤§æ¥¼ä¹‹é—´ç©¿æ¢­ç€æµçº¿å‹çš„é£è¡Œæ±½è½¦ï¼Œ
å»ºç­‘è¡¨é¢è¦†ç›–ç€åŠ¨æ€å…¨æ¯å¹¿å‘Šå’Œéœ“è™¹ç¯å¸¦ã€‚é›¨æ»´è½åœ¨é€æ˜ç»ç’ƒ
å¹•å¢™ä¸Šï¼ŒæŠ˜å°„å‡ºäº”å…‰åè‰²çš„å…‰èŠ’ï¼Œè¥é€ å‡ºèµ›åšæœ‹å…‹çš„æ°›å›´ã€‚
```

**å›¾ç”Ÿè§†é¢‘ï¼š**
```
ç”»é¢ä¸­çš„ä¸»ä½“ç¼“ç¼“åŠ¨èµ·æ¥ï¼ŒèƒŒæ™¯å…ƒç´ é€æ¸æ´»è·ƒï¼Œå…‰çº¿å‘ç”Ÿå¾®å¦™å˜åŒ–ï¼Œ
è¥é€ å‡ºæ—¶é—´æµé€çš„æ„Ÿè§‰ã€‚ä¿æŒåŸæœ‰æ„å›¾å’Œè‰²è°ƒï¼Œå¢åŠ è‡ªç„¶çš„åŠ¨æ€æ•ˆæœã€‚
```

### 7.3 æç¤ºè¯ä¼˜åŒ–æŠ€å·§

| æŠ€å·§ | è¯´æ˜ | ç¤ºä¾‹ |
|:---|:---|:---|
| å…·ä½“åŒ– | ä½¿ç”¨å…·ä½“åè¯è€ŒéæŠ½è±¡æ¦‚å¿µ | ç”¨"é‡‘æ¯›çŠ¬"ä»£æ›¿"ç‹—" |
| æ„Ÿå®˜æè¿° | åŠ å…¥è§†è§‰ã€å¬è§‰å…ƒç´  | "æ³¢å…‰ç²¼ç²¼çš„æ°´é¢ï¼Œæ½ºæ½ºæµæ°´å£°" |
| å…‰å½±ç»†èŠ‚ | æè¿°å…‰æºå’Œé˜´å½± | "é€†å…‰ä¸‹çš„å‰ªå½±ï¼ŒæŸ”å’Œçš„ä¾§å…‰" |
| åŠ¨æ€èŒƒå›´ | æè¿°åŠ¨ä½œçš„è¿ç»­å˜åŒ– | "èŠ±ç“£ä»é£˜è½ã€æ—‹è½¬åˆ°è½åœ°" |

---

## 8. å®Œæ•´ä»£ç ç¤ºä¾‹

### 8.1 Python å®ç°

```python
import os
import time
import requests
from typing import Optional, Dict, Any


class ZhipuVideoGenerator:
    """æ™ºè°±è§†é¢‘ç”Ÿæˆå™¨"""
    
    def __init__(self, api_key: str):
        self.api_key = api_key
        self.base_url = "https://open.bigmodel.cn/api/paas/v4"
        self.headers = {
            "Authorization": f"Bearer {api_key}",
            "Content-Type": "application/json"
        }
    
    def submit_task(
        self, 
        prompt: str, 
        image_url: Optional[str] = None,
        size: str = "3840x2160"
    ) -> Dict[str, Any]:
        """
        æäº¤è§†é¢‘ç”Ÿæˆä»»åŠ¡
        
        Args:
            prompt: è§†é¢‘æè¿°æç¤ºè¯
            image_url: é¦–å¸§å›¾ç‰‡ URLï¼ˆå›¾ç”Ÿè§†é¢‘æ—¶ä½¿ç”¨ï¼‰
            size: åˆ†è¾¨ç‡ï¼Œé»˜è®¤ 3840x2160
        
        Returns:
            åŒ…å« task_id çš„å“åº”æ•°æ®
        """
        url = f"{self.base_url}/videos/generations"
        
        payload = {
            "model": "cogvideox-flash",
            "prompt": prompt,
            "size": size
        }
        
        if image_url:
            payload["image_url"] = image_url
        
        response = requests.post(url, headers=self.headers, json=payload)
        response.raise_for_status()
        return response.json()
    
    def query_result(self, task_id: str) -> Dict[str, Any]:
        """
        æŸ¥è¯¢ä»»åŠ¡ç»“æœ
        
        Args:
            task_id: ä»»åŠ¡ ID
        
        Returns:
            ä»»åŠ¡çŠ¶æ€å’Œç»“æœ
        """
        url = f"{self.base_url}/async-result/{task_id}"
        
        response = requests.get(url, headers=self.headers)
        response.raise_for_status()
        return response.json()
    
    def generate_video(
        self,
        prompt: str,
        image_url: Optional[str] = None,
        size: str = "3840x2160",
        max_retries: int = 60,
        poll_interval: int = 5
    ) -> Dict[str, Any]:
        """
        ç”Ÿæˆè§†é¢‘ï¼ˆåŒ…å«è½®è¯¢ç­‰å¾…ï¼‰
        
        Args:
            prompt: è§†é¢‘æè¿°æç¤ºè¯
            image_url: é¦–å¸§å›¾ç‰‡ URLï¼ˆå›¾ç”Ÿè§†é¢‘æ—¶ä½¿ç”¨ï¼‰
            size: åˆ†è¾¨ç‡
            max_retries: æœ€å¤§è½®è¯¢æ¬¡æ•°
            poll_interval: è½®è¯¢é—´éš”ï¼ˆç§’ï¼‰
        
        Returns:
            åŒ…å«è§†é¢‘ URL çš„ç»“æœ
        """
        # æäº¤ä»»åŠ¡
        print("ğŸ“ æäº¤è§†é¢‘ç”Ÿæˆä»»åŠ¡...")
        submit_result = self.submit_task(prompt, image_url, size)
        task_id = submit_result.get("id")
        
        if not task_id:
            raise ValueError(f"æäº¤ä»»åŠ¡å¤±è´¥: {submit_result}")
        
        print(f"âœ… ä»»åŠ¡å·²æäº¤ï¼ŒID: {task_id}")
        
        # è½®è¯¢æŸ¥è¯¢ç»“æœ
        print("â³ ç­‰å¾…è§†é¢‘ç”Ÿæˆä¸­...")
        for attempt in range(max_retries):
            time.sleep(poll_interval)
            
            result = self.query_result(task_id)
            status = result.get("task_status")
            
            if status == "SUCCESS":
                print("âœ… è§†é¢‘ç”Ÿæˆå®Œæˆï¼")
                return result
            elif status == "FAIL":
                raise RuntimeError(f"è§†é¢‘ç”Ÿæˆå¤±è´¥: {result}")
            else:
                print(f"   è½®è¯¢ {attempt + 1}/{max_retries}: çŠ¶æ€ {status}")
        
        raise TimeoutError(f"è§†é¢‘ç”Ÿæˆè¶…æ—¶ï¼Œä»»åŠ¡ID: {task_id}")


# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    api_key = "your-api-key"
    generator = ZhipuVideoGenerator(api_key)
    
    # æ–‡ç”Ÿè§†é¢‘ç¤ºä¾‹
    try:
        result = generator.generate_video(
            prompt="ä¸€åªå¯çˆ±çš„æŸ´çŠ¬åœ¨æ¨±èŠ±æ ‘ä¸‹è¿½é€è´è¶ï¼Œé˜³å…‰é€è¿‡èŠ±ç“£æ´’è½ï¼Œ"
                   "å½¢æˆæ¢¦å¹»çš„å…‰å½±æ•ˆæœï¼Œå¾®é£è½»æ‹‚ï¼Œæ¨±èŠ±ç“£ç¼“ç¼“é£˜è½ã€‚",
            size="3840x2160"
        )
        
        video_url = result["video_result"][0]["url"]
        cover_url = result["video_result"][0]["cover_image_url"]
        
        print(f"\nğŸ¬ è§†é¢‘ URL: {video_url}")
        print(f"ğŸ–¼ï¸ å°é¢ URL: {cover_url}")
        
    except Exception as e:
        print(f"âŒ é”™è¯¯: {e}")
```

### 8.2 JavaScript å®ç°

```javascript
class ZhipuVideoGenerator {
    constructor(apiKey) {
        this.apiKey = apiKey;
        this.baseUrl = "https://open.bigmodel.cn/api/paas/v4";
        this.headers = {
            "Authorization": `Bearer ${apiKey}`,
            "Content-Type": "application/json"
        };
    }

    async submitTask(prompt, imageUrl = null, size = "3840x2160") {
        const url = `${this.baseUrl}/videos/generations`;
        const payload = {
            model: "cogvideox-flash",
            prompt: prompt,
            size: size
        };
        
        if (imageUrl) {
            payload.image_url = imageUrl;
        }

        const response = await fetch(url, {
            method: "POST",
            headers: this.headers,
            body: JSON.stringify(payload)
        });
        
        return await response.json();
    }

    async queryResult(taskId) {
        const url = `${this.baseUrl}/async-result/${taskId}`;
        
        const response = await fetch(url, {
            method: "GET",
            headers: {
                "Authorization": `Bearer ${this.apiKey}`
            }
        });
        
        return await response.json();
    }

    async generateVideo(prompt, imageUrl = null, size = "3840x2160", 
                        maxRetries = 60, pollInterval = 5000) {
        console.log("ğŸ“ æäº¤è§†é¢‘ç”Ÿæˆä»»åŠ¡...");
        const submitResult = await this.submitTask(prompt, imageUrl, size);
        const taskId = submitResult.id;
        
        if (!taskId) {
            throw new Error(`æäº¤ä»»åŠ¡å¤±è´¥: ${JSON.stringify(submitResult)}`);
        }
        
        console.log(`âœ… ä»»åŠ¡å·²æäº¤ï¼ŒID: ${taskId}`);
        console.log("â³ ç­‰å¾…è§†é¢‘ç”Ÿæˆä¸­...");
        
        for (let attempt = 0; attempt < maxRetries; attempt++) {
            await new Promise(resolve => setTimeout(resolve, pollInterval));
            
            const result = await this.queryResult(taskId);
            const status = result.task_status;
            
            if (status === "SUCCESS") {
                console.log("âœ… è§†é¢‘ç”Ÿæˆå®Œæˆï¼");
                return result;
            } else if (status === "FAIL") {
                throw new Error(`è§†é¢‘ç”Ÿæˆå¤±è´¥: ${JSON.stringify(result)}`);
            } else {
                console.log(`   è½®è¯¢ ${attempt + 1}/${maxRetries}: çŠ¶æ€ ${status}`);
            }
        }
        
        throw new Error(`è§†é¢‘ç”Ÿæˆè¶…æ—¶ï¼Œä»»åŠ¡ID: ${taskId}`);
    }
}

// ä½¿ç”¨ç¤ºä¾‹
async function main() {
    const apiKey = "your-api-key";
    const generator = new ZhipuVideoGenerator(apiKey);
    
    try {
        const result = await generator.generateVideo(
            "ä¸€åªå¯çˆ±çš„æŸ´çŠ¬åœ¨æ¨±èŠ±æ ‘ä¸‹è¿½é€è´è¶ï¼Œé˜³å…‰é€è¿‡èŠ±ç“£æ´’è½ï¼Œ" +
            "å½¢æˆæ¢¦å¹»çš„å…‰å½±æ•ˆæœï¼Œå¾®é£è½»æ‹‚ï¼Œæ¨±èŠ±ç“£ç¼“ç¼“é£˜è½ã€‚"
        );
        
        const videoUrl = result.video_result[0].url;
        const coverUrl = result.video_result[0].cover_image_url;
        
        console.log(`\nğŸ¬ è§†é¢‘ URL: ${videoUrl}`);
        console.log(`ğŸ–¼ï¸ å°é¢ URL: ${coverUrl}`);
        
    } catch (error) {
        console.error(`âŒ é”™è¯¯: ${error.message}`);
    }
}

main();
```

---

## 9. æ³¨æ„äº‹é¡¹

### 9.1 ä½¿ç”¨é™åˆ¶

| é™åˆ¶é¡¹ | è¯´æ˜ |
|:---|:---|
| **å…è´¹é¢åº¦** | CogVideoX-Flash ä¸ºå…è´¹æ¨¡å‹ï¼Œä½†æœ‰è°ƒç”¨é¢‘ç‡é™åˆ¶ |
| **ç”Ÿæˆæ—¶é•¿** | å•ä¸ªè§†é¢‘å›ºå®š 10 ç§’ |
| **å¹¶å‘é™åˆ¶** | åŒä¸€è´¦å·å¹¶å‘ä»»åŠ¡æ•°é‡æœ‰é™åˆ¶ |
| **è§†é¢‘ä¿å­˜** | ç”Ÿæˆçš„è§†é¢‘ URL æœ‰æ—¶æ•ˆæ€§ï¼Œè¯·åŠæ—¶ä¸‹è½½ä¿å­˜ |

### 9.2 æœ€ä½³å®è·µ

1. **æç¤ºè¯ä¼˜åŒ–**
   - ä½¿ç”¨è¯¦ç»†ã€å…·ä½“çš„æè¿°
   - åŒ…å«åœºæ™¯ã€ä¸»ä½“ã€åŠ¨ä½œã€æ°›å›´ç­‰å…ƒç´ 
   - é¿å…ä½¿ç”¨æŠ½è±¡æˆ–æ¨¡ç³Šçš„æ¦‚å¿µ

2. **è½®è¯¢ç­–ç•¥**
   - å»ºè®®è½®è¯¢é—´éš”ï¼š5-10 ç§’
   - è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´ï¼ˆ5-10 åˆ†é’Ÿï¼‰
   - è§†é¢‘ç”Ÿæˆé€šå¸¸éœ€è¦ 1-3 åˆ†é’Ÿ

3. **é”™è¯¯å¤„ç†**
   - å®ç°å®Œæ•´çš„é”™è¯¯æ•è·æœºåˆ¶
   - å¯¹ç½‘ç»œå¼‚å¸¸è¿›è¡Œé‡è¯•
   - ä¿å­˜ä»»åŠ¡ ID ä»¥ä¾¿åç»­æŸ¥è¯¢

4. **æˆæœ¬æ§åˆ¶**
   - è™½ç„¶æ˜¯å…è´¹æ¨¡å‹ï¼Œä½†ä»éœ€æ³¨æ„è°ƒç”¨é¢‘ç‡
   - æ‰¹é‡ç”Ÿæˆæ—¶å»ºè®®ä¸²è¡Œæ‰§è¡Œï¼Œé¿å…è§¦å‘é™æµ

### 9.3 å¸¸è§é—®é¢˜

| é—®é¢˜ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|:---|:---|:---|
| ä»»åŠ¡æäº¤å¤±è´¥ | API Key æ— æ•ˆæˆ–è¿‡æœŸ | æ£€æŸ¥ API Key é…ç½® |
| ç”Ÿæˆæ—¶é—´è¿‡é•¿ | ç³»ç»Ÿç¹å¿™ | è€å¿ƒç­‰å¾…æˆ–ç¨åé‡è¯• |
| ç”Ÿæˆç»“æœä¸ç¬¦ | æç¤ºè¯ä¸å¤Ÿå…·ä½“ | ä¼˜åŒ–æç¤ºè¯æè¿° |
| è§†é¢‘æ— æ³•æ’­æ”¾ | URL å·²è¿‡æœŸ | åŠæ—¶ä¸‹è½½ä¿å­˜è§†é¢‘ |

### 9.4 å®‰å…¨æç¤º

- å¦¥å–„ä¿ç®¡ API Keyï¼Œä¸è¦åœ¨å‰ç«¯ä»£ç ä¸­æš´éœ²
- ç”Ÿæˆçš„è§†é¢‘å†…å®¹éœ€éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„
- å»ºè®®åœ¨æœåŠ¡ç«¯å°è£… API è°ƒç”¨ï¼Œé¿å…å®¢æˆ·ç«¯ç›´æ¥è®¿é—®

### 9.5 å…³äºæ€è€ƒæ¨¡å¼

**é‡è¦è¯´æ˜ï¼š**
- CogVideoX-Flash æ˜¯ä¸“é—¨çš„è§†é¢‘ç”Ÿæˆæ¨¡å‹
- ä¸æ”¯æŒæ€è€ƒæ¨¡å¼ï¼ˆthinking å‚æ•°ï¼‰
- ä¸è¿”å›æ€ç»´é“¾ï¼ˆreasoning_contentï¼‰
- ä½¿ç”¨ç‹¬ç«‹çš„ `/videos/generations` ç«¯ç‚¹
- å¼‚æ­¥ä»»åŠ¡æ¨¡å¼ï¼Œéœ€è¦è½®è¯¢è·å–ç»“æœ
