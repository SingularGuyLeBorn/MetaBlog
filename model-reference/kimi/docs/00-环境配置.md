# 00-环境配置

## 安装依赖

```bash
pip install openai python-dotenv
```

## 创建 .env 文件

在项目根目录创建 `.env` 文件：

```bash
# Kimi (Moonshot)
VITE_KIMI_API_KEY=your-kimi-api-key
VITE_KIMI_BASE_URL=https://api.moonshot.cn/v1

# DeepSeek
VITE_DEEPSEEK_API_KEY=your-deepseek-api-key
VITE_DEEPSEEK_BASE_URL=https://api.deepseek.com

# 其他厂商...
```

## 读取配置代码模板

### Python

```python
from openai import OpenAI
import os
from dotenv import load_dotenv

# 加载 .env 文件
load_dotenv()

# Kimi 配置
kimi_api_key = os.getenv("VITE_KIMI_API_KEY")
kimi_base_url = os.getenv("VITE_KIMI_BASE_URL", "https://api.moonshot.cn/v1")

# DeepSeek 配置
deepseek_api_key = os.getenv("VITE_DEEPSEEK_API_KEY")
deepseek_base_url = os.getenv("VITE_DEEPSEEK_BASE_URL", "https://api.deepseek.com")

# 检查配置
if not kimi_api_key:
    raise ValueError("❌ 未找到 VITE_KIMI_API_KEY，请在 .env 文件中设置")

# 初始化客户端
kimi_client = OpenAI(
    api_key=kimi_api_key,
    base_url=kimi_base_url,
)
```

### JavaScript/TypeScript

```typescript
// 读取环境变量
const KIMI_API_KEY = import.meta.env.VITE_KIMI_API_KEY;
const KIMI_BASE_URL = import.meta.env.VITE_KIMI_BASE_URL || 'https://api.moonshot.cn/v1';

if (!KIMI_API_KEY) {
    throw new Error('❌ 未找到 VITE_KIMI_API_KEY');
}

// 初始化
const client = new OpenAI({
    apiKey: KIMI_API_KEY,
    baseURL: KIMI_BASE_URL,
});
```

## 最佳实践

1. **不要硬编码 API Key** - 始终使用环境变量
2. **.env 文件不要提交到 Git** - 确保 `.gitignore` 中包含 `.env`
3. **使用 VITE_ 前缀** - 前端项目需要 `VITE_` 前缀才能被识别
4. **提供默认值** - 使用 `os.getenv(key, default_value)`
